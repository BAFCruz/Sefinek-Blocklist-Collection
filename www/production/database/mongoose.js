const{connect:connect,connection:connection}=require("mongoose"),RequestStats=require("./models/RequestStats.js");connect(process.env.MONGODB_URL).then((()=>{console.info("MongoDB connected successfully!")})).catch((e=>{console.error("Failed to connect to the database",e),process.exit(1)})),connection.on("connected",(async()=>{try{if(await RequestStats.findOne({}).limit(1))return;await RequestStats.create({}),console.info("RequestStats collection initialized successfully")}catch(e){console.error("Failed to initialize `RequestStats`",e),process.exit(1)}})),connection.on("disconnected",(()=>{console.warn("MongoDB disconnected!")})),connection.on("error",(e=>{console.error("MongoDB connection error:",e),process.exit(1)}));